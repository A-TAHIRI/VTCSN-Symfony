<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>
			{% block title %}Acceuil
			{% endblock %}
		</title>

		<link rel="shartcut icon" sizes="196x196" href="{{asset('assets/images/VTCSN2.png')}}" width="100px" higth="100px" type=" image/png"/>
		<!-- Bootstrap -->
		{# <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/> #}
		{# <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"/> #}
		{# <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css"/> #}
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
		<link href="{{asset('assets/css/styles.css')}}" rel="stylesheet">
		<link href="{{asset('assets/css/profil.css')}}" rel="stylesheet">
		<style>
			#carte {
				height: 400px;
			}
		</style>
		{# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}
		<!-- Feuilles de styles -->
		{% block stylesheets %}{% endblock %}
		<!-- Fichiers JS -->
		{% block javascripts %}{% endblock %}
	</head>
	<body>


		<div class="containerbody">
			<div class="contento">

				{% include "_partials/_nav.html.twig" %}

				{% include "_partials/_flash.html.twig" %}

				{% block body %}{% endblock %}
			</div>
			{% include "_partials/_footer.html.twig" %}
		</div>

		{# <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script> #}
		{# <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script> #}
		{# <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script> #}<script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"> </script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
		<script src="{{asset('assets/js/script.js')}}"></script>
		{# <script>
															window.onload = function () {
												let macarte = L.map('carte').setView([
												48.852969, 2.349903
												], 13)
												L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
												attribution: 'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
												minZoom: 1,
												maxZoom: 20
												}).addTo(macarte)
												L.Routing.control({
												lineOptions: {
												styles: [
												{
												color: '#ff8f00',
												opacity: 1,
												weight: 7
												}
												]
												},
												router: new L.Routing.osrmv1(
												{
												language: 'fr', profile: 'car', // car, bike, foot
												}
												),
												geocoder: L.Control.Geocoder.nominatim()
												}).addTo(macarte)
												
												// On écoute le clic sur la carte et on lance la fonction "mapClickListen"
												macarte.on('click', mapClickListen)
												
												
												}
												
												
												/**
												 * Cette fonction se déclenche au clic, crée un marqueur et remplit les champs latitude et longitude
												 * @param {event} e 
												 */
												function mapClickListen(e) {
												
												console.log(e)
												// On récupère les coordonnées du clic
												pos = e.latlng
												
												// On crée un marqueur
												addMarker(pos)
												
												// On affiche les coordonnées dans le formulaire
												document.querySelector("#lat").value = pos.lat
												document.querySelector("#lon").value = pos.lng
												}
												/**
												 * Ajoute un marqueur sur la carte
												 * @param {*} pos 
												 */
												function addMarker(pos) {
												let marqueur = L.marker(pos)
												// On ajoute le marqueur
												marqueur.addTo(macarte)
												}
														</script> #}
	</body>
</html>
